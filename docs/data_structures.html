<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="openEHR Data Structures Information Model specification">
<meta name="keywords" content="EHR, data structures, reference model, openehr">
<title>Data Structures Information Model</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_data_structures_information_model">Data Structures Information Model</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a></li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
<li><a href="#_conformance">1.5. Conformance</a></li>
</ul>
</li>
<li><a href="#_background">2. Background</a>
<ul class="sectlevel2">
<li><a href="#_requirements">2.1. Requirements</a></li>
<li><a href="#_design_principles">2.2. Design Principles</a></li>
</ul>
</li>
<li><a href="#_overview">3. Overview</a>
<ul class="sectlevel2">
<li><a href="#_class_descriptions">3.1. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_data_structure_class">3.1.1. DATA_STRUCTURE Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_item_structure_package">4. Item Structure Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">4.1. Overview</a></li>
<li><a href="#_iso_13606_encoding_rules">4.2. ISO 13606 Encoding Rules</a>
<ul class="sectlevel3">
<li><a href="#_item_single">4.2.1. ITEM_SINGLE</a></li>
<li><a href="#_item_list">4.2.2. ITEM_LIST</a></li>
<li><a href="#_item_table">4.2.3. ITEM_TABLE</a></li>
<li><a href="#_item_tree">4.2.4. ITEM_TREE</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_2">4.3. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_item_structure_class">4.3.1. ITEM_STRUCTURE Class</a></li>
<li><a href="#_item_single_class">4.3.2. ITEM_SINGLE Class</a></li>
<li><a href="#_item_list_class">4.3.3. ITEM_LIST Class</a></li>
<li><a href="#_item_table_class">4.3.4. ITEM_TABLE Class</a></li>
<li><a href="#_item_tree_class">4.3.5. ITEM_TREE Class</a></li>
</ul>
</li>
<li><a href="#_instance_structures">4.4. Instance Structures</a>
<ul class="sectlevel3">
<li><a href="#_item_single_instance_structure">4.4.1. ITEM_SINGLE Instance Structure</a></li>
<li><a href="#_item_list_instance_structure">4.4.2. ITEM_LIST Instance Structure</a></li>
<li><a href="#_item_table_instance_structure">4.4.3. ITEM_TABLE Instance Structure</a></li>
<li><a href="#_item_tree_instance_structure">4.4.4. ITEM_TREE Instance Structure</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_representation_package">5. Representation Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">5.1. Overview</a></li>
<li><a href="#_class_descriptions_3">5.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_item_class">5.2.1. ITEM Class</a></li>
<li><a href="#_cluster_class">5.2.2. CLUSTER Class</a></li>
<li><a href="#_element_class">5.2.3. ELEMENT Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_history_package">6. History Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">6.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_basic_semantics">6.1.1. Basic Semantics</a></li>
<li><a href="#_timing">6.1.2. Timing</a></li>
<li><a href="#_point_events">6.1.3. Point Events</a></li>
<li><a href="#_interval_events">6.1.4. Interval Events</a></li>
<li><a href="#_change_data">6.1.5. Change Data</a></li>
<li><a href="#_summary_event_data">6.1.6. Summary Event Data</a></li>
<li><a href="#_efficient_representation_of_fine_grained_device_data">6.1.7. Efficient Representation of Fine-grained Device Data</a></li>
<li><a href="#_state">6.1.8. State</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_4">6.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_history_class">6.2.1. HISTORY Class</a></li>
<li><a href="#_event_class">6.2.2. EVENT Class</a></li>
<li><a href="#_point_event_class">6.2.3. POINT_EVENT Class</a></li>
<li><a href="#_interval_event_class">6.2.4. INTERVAL_EVENT Class</a></li>
</ul>
</li>
<li><a href="#_history_instance_structures">6.3. History Instance Structures</a>
<ul class="sectlevel3">
<li><a href="#_single_sample">6.3.1. Single Sample</a></li>
<li><a href="#_5_minute_blood_pressure_averages">6.3.2. 5-minute Blood Pressure Averages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_data_structures_information_model" class="sect0"><a class="anchor" href="#_data_structures_information_model"></a>Data Structures Information Model</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: RM latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: STABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: EHR, data structures, reference model, openehr</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2003 - 2021 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/RM/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>RM Release 1.1.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>1.7.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECPUB-7" target="_blank" rel="noopener">SPECPUB-7</a>: Convert citations to bibtex form.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>15 Dec 2019</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-77" target="_blank" rel="noopener">SPECRM-77</a>. Add <code>ELEMENT.<em>null_reason</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I McNicoll,<br>
 H Leslie,<br>
 S Ljosland Bakke,<br>
 T Schuler,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Oct 2019</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECPUB-3" target="_blank" rel="noopener">SPECPUB-3</a>. Correct UML conversion error in <code>EVENT.<em>data</em></code>, which is of generic parameter type <code>T</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Arikan,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21 Feb 2019</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>RM Release 1.0.4</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-83" target="_blank" rel="noopener">SPECRM-83</a>. Improve documentation of <code>INTERVAL_EVENT</code> and <code>POINT_EVENT</code> (addresses <a href="https://specifications.openehr.org/tickets/SPECPR-197" target="_blank" rel="noopener">SPECPR-197</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27 Dec 2018</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>RM Release 1.0.3</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-42" target="_blank" rel="noopener">SPECRM-42</a>. Clarify definition of <code>HISTORY.<em>summary</em></code> (addresses <a href="https://specifications.openehr.org/tickets/SPECPR-81" target="_blank" rel="noopener">SPECPR-81</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I McNicoll,<br>
 G Grieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Nov 2015</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0.2</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-271" target="_blank" rel="noopener">SPEC-271</a>. Correct minor inconsistencies in <code>ITEM_TABLE</code> specification and example.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">05 Nov 2008</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-257" target="_blank" rel="noopener">SPEC-257</a>: Correct minor typos and clarify text.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma,<br>
 R Chen,<br>
 T Cook</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-255" target="_blank" rel="noopener">SPEC-255</a>. Correct minor error in <code>INTERVAL_EVENT.<em>width</em></code> documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Patterson</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-283" target="_blank" rel="noopener">SPEC-283</a>. Correct spelling of <code>ELEMENT.<em>null_flavor</em></code> attribute to <code><em>null_flavour</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0.1</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-200" target="_blank" rel="noopener">SPEC-200</a>. Correct Release 1.0 typographical errors. Minor cosmetic changes to diagrams. Correct return types of <code>ITEM_TABLE</code> functions to <code>CLUSTER</code> rather than <code>List&lt;ELEMENT&gt;</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26 Sep 2006</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-207" target="_blank" rel="noopener">SPEC-207</a>: Change <code>ITEM_TABLE</code> columns to rows.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-219" target="_blank" rel="noopener">SPEC-219</a>: Use constants instead of literals to refer to terminology in RM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-220" target="_blank" rel="noopener">SPEC-220</a>: Tighten semantics of <code>HISTORY.<em>period</em></code> and <code>EVENT.<em>time</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Patterson</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-14" target="_blank" rel="noopener">SPEC-14</a>. Adjust History. Major simplifcation to package; make Events absolute in time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 Dec 2005</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-155" target="_blank" rel="noopener">SPEC-155</a>: Summary data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-183" target="_blank" rel="noopener">SPEC-183</a>. Remove root node from <code>ITEM_TREE</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G Grieve</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-185" target="_blank" rel="noopener">SPEC-185</a>. Improved <code>EVENT</code> model.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-155" target="_blank" rel="noopener">SPEC-155</a>: Summary data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 G Grieve</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-192" target="_blank" rel="noopener">SPEC-192</a>: Add display-as-absolute facility to delta Events in History (added explanation only).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-193" target="_blank" rel="noopener">SPEC-193</a>: Simplify <code>INTERVAL_EVENT</code> for archetyping and paths. Revert to one math function per <code>INTERVAL_EVENT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-196" target="_blank" rel="noopener">SPEC-196</a>: Rename <code>HISTORY.<em>items</em></code> to events.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-192" target="_blank" rel="noopener">SPEC-192</a>. Support change, increase and decrease Events in History.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.96</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.95</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-48" target="_blank" rel="noopener">SPEC-48</a>. Pre-release review of documents. Fixed <code>HISTORY</code> UML diagram - remove superfluous <code>T:XXX</code> (no semantic change). Converted parameter types to UML box form.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Feb 2005</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-101" target="_blank" rel="noopener">SPEC-101</a>. Improve modelling of Structure classes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Dec 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-100" target="_blank" rel="noopener">SPEC-100</a>. Correct inheritance error in <code>ITEM_STRUCTURE</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-24" target="_blank" rel="noopener">SPEC-24</a>. Revert meaning to <code>STRING</code> and rename as <code>archetype_node_id_</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-118" target="_blank" rel="noopener">SPEC-118</a>. Make package names lower case.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-123" target="_blank" rel="noopener">SPEC-123</a>. <code>EVENT</code> should inherit from <code>LOCATABLE</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-124" target="_blank" rel="noopener">SPEC-124</a>. Fix path syntax in data structures IM document.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.9</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-19" target="_blank" rel="noopener">SPEC-19</a>. Add <code>HISTORY</code> and <code>STRUCTURE</code> supertype.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">09 Mar 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-28" target="_blank" rel="noopener">SPEC-28</a>. Change name of <code>STRUCTURE</code> class to avoid clashes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-89" target="_blank" rel="noopener">SPEC-89</a>. Remove <code>ITEM.<em>displayed</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-91" target="_blank" rel="noopener">SPEC-91</a>. Correct anomalies in use of <code>CODE_PHRASE</code> and <code>DV_CODED_TEXT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-67" target="_blank" rel="noopener">SPEC-67</a>. Change <code>EVENT</code> class to enable math function interval A measurements. Renamed <code>EVENT.<em>duration</em></code> and <code>SINGLE_EVENT.<em>duration</em></code> to <code><em>width</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Formally validated using ISE Eiffel 5.4</strong>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-41" target="_blank" rel="noopener">SPEC-41</a>. Visually differentiate primitive types in openEHR documents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">04 Sep 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-13" target="_blank" rel="noopener">SPEC-13</a> Rename key classes - rename <code>COMPOUND</code> to <code>CLUSTER</code> to conform with CEN 13606.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Kalra,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Jun 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Improved heading layout, package naming. Made <code>HISTORY.<em>is_periodic</em></code> a function.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Mar 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Formally validated using ISE Eiffel 5.2. No changes</strong>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor corrections to terminology_id invariants.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">08 Jan 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defined packages properly and moved <code>HISTORY</code> classes from EHR RM. No change to semantics.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Dec 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor corrections: <code>SINGLE_S</code> <code><em>new</em></code> function.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Nov 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor adjustments due to change in <code>DV_CODED_TEXT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01 Nov 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Taken from Common RM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Oct 2002</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The work reported in this paper has been funded in by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>University College London - Centre for Health Informatics and Multi-professional Education (CHIME);</p>
</li>
<li>
<p>Ocean Informatics;</p>
</li>
<li>
<p>Distributed Systems Technology Centre (DSTC), under the Cooperative Research Centres Program through the Department of the Prime Minister and Cabinet of the Commonwealth Government of Australia.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thanks to Grahame Grieve of Kestral Computing, Australia for general input and examples relating to History data.</p>
</div>
<div class="paragraph">
<p>Special thanks to David Ingram, Emeritus Professor of Health Informatics at UCL, who provided a vision and collegial working environment ever since the days of GEHR (1992).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document describes the common data structures used in openEHR reference model, including
lists, tables, trees, and history.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standards bodies producing health informatics standards;</p>
</li>
<li>
<p>Academic groups using openEHR;</p>
</li>
<li>
<p>The open source healthcare community;</p>
</li>
<li>
<p>Solution vendors;</p>
</li>
<li>
<p>Medical informaticians and clinicians interested in health information.</p>
</li>
<li>
<p>Health data managers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the STABLE state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/RM/latest/data_structures.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/RM/latest/data_structures.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.openehr.org/c/specifications/rm" target="_blank" rel="noopener">openEHR RM specifications forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/RM/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/RM/history" target="_blank" rel="noopener">RM component Change Request tracker</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conformance"><a class="anchor" href="#_conformance"></a>1.5. Conformance</h3>
<div class="paragraph">
<p>Conformance of a data or software artifact to an openEHR specification is determined by a formal test of that artifact against the relevant openEHR Implementation Technology Specification(s) (ITSs), such as an IDL interface or an XML-schema. Since ITSs are formal derivations from underlying models, ITS conformance indicates model conformance.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_background"><a class="anchor" href="#_background"></a>2. Background</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a>2.1. Requirements</h3>
<div class="paragraph">
<p>The requirements for structured data in the EHR and other systems are essentially that low-level data can be expressed in standard structures. The structures which are commonly required are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>single values, e.g. weight, height, blood sugar;</p>
</li>
<li>
<p>lists of named/numbered elements, e.g. blood test results;</p>
</li>
<li>
<p>tables of values with named columns and/or named rows, e.g. visual acuity results;</p>
</li>
<li>
<p>trees of values, e.g. biochemistry, microbiology results;</p>
</li>
<li>
<p>histories of values, each of which takes any of the above forms, e.g. a time series of blood pressures, glucose levels, or imaging data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_design_principles"><a class="anchor" href="#_design_principles"></a>2.2. Design Principles</h3>
<div class="paragraph">
<p>The design principle which particularly applies to the data structure models described here is the need to provide explicit specifications for logical structures using the same generic representation, such as hierarchy. The logical structures include tables, lists, trees, and the concept of history.</p>
</div>
<div class="paragraph">
<p>Regardless of whether such structures are treated as pure presentation or as having semantic significance, there are at various reasons for explicitly including the semantics of logical structures which are represented in a generic way such as hierarchy, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it is essential for interoperability that a structure such as a logical table, list or linear history be encoded into the generic representation in the same way by all senders and receivers of information, otherwise there is no guarantee that any communicating party&#8217;s software processes the structures in the intended fashion;</p>
</li>
<li>
<p>software implementors can develop software which explicitly captures the logical structures as functional interfaces which are used as the only way of building such structures. Such interfaces (assuming they are bug-free) guarantee that all application software always creates correct structures - there is no need to rely on caller software each time making low level calls to create a table or list out of hierarchy elements;</p>
</li>
<li>
<p>the use of a functional interface for such types means that application software at the receiver&#8217;s end can always process incoming information in its intended form, enabling correct presentation of data on the screen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>One of the motivations for defining logical data structures explicitly is to remove the ambiguity in recording structure and time in previous EHR specifications and standards, including <a href="https://www.openehr.org/resources/related_projects#gehr" target="_blank" rel="noopener">The Good European Health Record</a>, <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606</a>, <a href="https://www.hl7.org/implement/standards/product_brief.cfm?product_id=7" target="_blank" rel="noopener">HL7 CDA</a> and <a href="https://www.hl7.org/fhir" target="_blank" rel="noopener">HL7 FHIR</a> specifications. The approach in these standards to representing time and structure is to use undifferentiated hierarchical structures - there is no specification about how a table or a time series might be represented. Where single values are recorded, an attribute meaning 'time of recording' is usually set; if a time series was required, there is no clear guideline as to how to model it. The standardised approach used here removes all such ambiguity, and improves the quality of data and software.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>3. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>rm.data_structures</code> package contains two packages: the <code>item_structure</code> package and
the <code>history</code> package. The first describes generic, path-addressable data structures, while the latter
describes a generic notion of linear history, for recording events in past time. The
<code>data_structures package</code> is illustrated in the UML diagram below.</p>
</div>
<div id="data_structures_package" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/RM-data_structures.svg" alt="RM data structures">
</div>
<div class="title">Figure 1. rm.data_structures Package</div>
</div>
<div class="paragraph">
<p>The <code>data_structures package</code> itself contains a single class, <code>DATA_STRUCTURE</code>, which is the
ancestor of all openEHR data structures. Its only feature is the function as_hierarchy, which is implemented
by each subtype of <code>DATA_STRUCTURE</code>, in order to generate a physical representation of the
structure in ISO 13606 form. The ISO 13606 form is usually less optimal than the openEHR form, but
is compatible with the less semantically rich standard, and is guaranteed (in theory) to be comprehensible
to other systems which support ISO 13606 as an interoperability standard.</p>
</div>
<div class="sect2">
<h3 id="_class_descriptions"><a class="anchor" href="#_class_descriptions"></a>3.1. Class Descriptions</h3>
<div class="sect3">
<h4 id="_data_structure_class"><a class="anchor" href="#_data_structure_class"></a>3.1.1. DATA_STRUCTURE Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>DATA_STRUCTURE (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract parent class of all data structure types. Includes the <code><em>as_hierarchy</em></code> function which can generate the equivalent CEN EN13606 single hierarchy for each subtype&#8217;s physical representation. For example, the physical representation of an <code>ITEM_LIST</code> is <code>List&lt;ELEMENT&gt;</code>; its implementation of <code><em>as_hierarchy</em></code> will generate a <code>CLUSTER</code> containing the set of <code>ELEMENT</code> nodes from the list.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="/releases/RM/latest/common.html#_locatable_class" target="_blank" rel="noopener">LOCATABLE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_hierarchy</strong> (): <code><a href="#_item_class">ITEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hierarchical equivalent of the physical representation of each subtype, compatible with CEN EN 13606 structures.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_item_structure_package"><a class="anchor" href="#_item_structure_package"></a>4. Item Structure Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>4.1. Overview</h3>
<div class="paragraph">
<p>The <code>item_structure</code> package classes presented here are a formalisation of the need for generic, archetypable
data structures, and are used by all openEHR reference models.</p>
</div>
<div class="paragraph">
<p>The subtypes of the <code>ITEM_STRUCTURE</code> class explicitly model the logical data structure types which
typically occur in health record data, and include <code>ITEM_SINGLE</code> (for single values such as a patient
weight), <code>ITEM_LIST</code> (for lists such as parts of an address), <code>ITEM_TREE</code> (for hierarchically structured
data such as a microbiology report) and <code>ITEM_TABLE</code> (for tabular data such as visual acuity or reflex
test results). Each of these classes defines a functional interface, has an optimal physical representation
using the basic types <code>CLUSTER</code> and <code>ELEMENT</code> from the <code>representation</code> package, and can generate
a <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606</a> compliant hierarchical representation of its data. Any system implementing
these types is guaranteed to create data which represents the logical structures of lists, tables and trees
identically.</p>
</div>
<div class="paragraph">
<p>Data values are connected to spatial structures via the <code><em>value</em></code> attribute of the <code>ELEMENT</code> class of the <code>representation</code> cluster. This class also carries the attribute <code><em>null_flavour</em></code>, whose value indicates how to read the contents of the <code><em>value</em></code> attribute. Values from the openEHR <a href="https://github.com/openEHR/terminology/blob/master/openEHR_RM/en/openehr_terminology.xml"><code>null flavours</code> vocabulary</a>, including <code>253|unknown|</code>, <code>271|no information|</code>, <code>272|masked|</code>, and <code>273|not applicable|</code> are used to populate it. Only a small number of generic codes are defined, in order to avoid complex processing for most data instances, for which this simple classification of null is sufficient.</p>
</div>
<div class="paragraph">
<p>In some circumstances however, additional detail is required in addition to the null flavour code. Examples include reporting and where specific reasons for lack of data have medico-legal ramifications, e.g. 'patient was unconscious', 'patient refused to tell me', 'no reason provided'. For these situations, the optional <code><em>null_reason</em></code> field may be used to record a specific reason.</p>
</div>
<div class="paragraph">
<p>The openEHR class model for spatial structures is illustrated on the right-hand side of <a href="#data_structures_package">Figure 1</a>. It should be noted that these classes (<code>ITEM_LIST</code> etc) are not equivalents of similarly named classes (such as <code>List&lt;T&gt;</code>) in most data structure libraries - they also include per-node <code><em>name</em></code>,
<code><em>archetype_node_id</em></code> and leaf node value and null flavour, and path capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="_iso_13606_encoding_rules"><a class="anchor" href="#_iso_13606_encoding_rules"></a>4.2. ISO 13606 Encoding Rules</h3>
<div class="sect3">
<h4 id="_item_single"><a class="anchor" href="#_item_single"></a>4.2.1. ITEM_SINGLE</h4>
<div class="paragraph">
<p>An <code>ITEM_SINGLE</code> object is encoded in ISO 13606 as a single <code>ELEMENT</code> object.</p>
</div>
</div>
<div class="sect3">
<h4 id="_item_list"><a class="anchor" href="#_item_list"></a>4.2.2. ITEM_LIST</h4>
<div class="paragraph">
<p>An <code>ITEM_LIST</code> object is encoded in ISO 13606 as a <code>CLUSTER</code> object containing the set of <code>ELEMENTs</code>
from the openEHR list.</p>
</div>
</div>
<div class="sect3">
<h4 id="_item_table"><a class="anchor" href="#_item_table"></a>4.2.3. ITEM_TABLE</h4>
<div class="paragraph">
<p>The <code>ITEM_TABLE</code> encoding rules are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each row is encoded as a Cluster containing a number of <code>ELEMENTs</code>, each corresponding to the value of a column in that row.</p>
</li>
<li>
<p>An empty/void column value for a row is represented by an <code>ELEMENT</code> containing no value, and with <code><em>null_flavour</em></code> set.</p>
</li>
<li>
<p>The names of the <code>ELEMENT</code> in a row are the column names.</p>
</li>
<li>
<p>The names of the containing <code>CLUSTER</code> of each row is the stringified number of the row in the overall table.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_item_tree"><a class="anchor" href="#_item_tree"></a>4.2.4. ITEM_TREE</h4>
<div class="paragraph">
<p>Data of an <code>ITEM_TREE</code> instance are simply replicated as is to produce the correct ISO 13606 hierarchical form.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_2"><a class="anchor" href="#_class_descriptions_2"></a>4.3. Class Descriptions</h3>
<div class="sect3">
<h4 id="_item_structure_class"><a class="anchor" href="#_item_structure_class"></a>4.3.1. ITEM_STRUCTURE Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>ITEM_STRUCTURE (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract parent class of all spatial data types.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_data_structure_class">DATA_STRUCTURE</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_item_single_class"><a class="anchor" href="#_item_single_class"></a>4.3.2. ITEM_SINGLE Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ITEM_SINGLE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Logical single value data structure. Used to represent any data which is logically a single value, such as a person&#8217;s height or weight.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item</strong>: <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_hierarchy</strong> (): <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generate a CEN EN13606-compatible hierarchy consisting of a single <code>ELEMENT</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_item_list_class"><a class="anchor" href="#_item_list_class"></a>4.3.3. ITEM_LIST Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ITEM_LIST</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Logical list data structure, where each item has a value and can be referred to by a name and a positional index in the list. The list may be empty.</p>
</div>
<div class="paragraph">
<p><code>ITEM_LIST</code> is used to represent any data which is logically a list of values, such as blood pressure, most protocols, many blood tests etc.</p>
</div>
<div class="paragraph">
<p>Not to be used for time-based lists, which should be represented with the proper temporal class, i.e. <code>HISTORY</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class" target="_blank" rel="noopener">List</a>&lt;<a href="#_element_class">ELEMENT</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Physical representation of the list.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item_count</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Count of all items.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>names</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_list_class">List<sup></a>&lt;<a href="/releases/RM/latest/data_types.html#_dv_text_class">DV_TEXT</sup></a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Retrieve the names of all items.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>named_item</strong> (<br>
a_name: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Retrieve the item with name ‘a_name’.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ith_item</strong> (<br>
i: <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a>[1]</code><br>
): <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Retrieve the i-th item with name.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_hierarchy</strong> (): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generate a CEN EN13606-compatible hierarchy consisting of a single <code>CLUSTER</code> containing the <code>ELEMENTs</code> of this list.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Valid_structure</em>: ` items.forall (i:ITEM &#124; i.type = "ELEMENT")`</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_item_table_class"><a class="anchor" href="#_item_table_class"></a>4.3.4. ITEM_TABLE Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ITEM_TABLE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Logical relational database style table data structure, in which columns are named and ordered with respect to each other. Implemented using Cluster-per-row encoding. Each row Cluster must have an identical number of Elements, each of which in turn must have identical names and value types in the corresponding positions in each row.</p>
</div>
<div class="paragraph">
<p>Some columns may be designated  key' columns, containing key data for each row, in the manner of relational tables. This allows row-naming, where each row represents a body site, a blood antigen etc. All values in a column have the same data type.</p>
</div>
<div class="paragraph">
<p>Used for representing any data which is logically a table of values, such as blood pressure, most protocols, many blood tests etc.</p>
</div>
<div class="paragraph">
<p>Misuse: Not to be used for time-based data, which should be represented with the temporal class <code>HISTORY</code>. The table may be empty.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rows</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class" target="_blank" rel="noopener">List</a>&lt;<a href="#_cluster_class">CLUSTER</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Physical representation of the table as a list of <code>CLUSTERs</code>, each containing the data of one row of the table.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>row_count</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of rows in the table.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>column_count</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return number of columns in the table.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>row_names</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_list_class">List<sup></a>&lt;<a href="/releases/RM/latest/data_types.html#_dv_text_class">DV_TEXT</sup></a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return set of row names.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>column_names</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_list_class">List<sup></a>&lt;<a href="/releases/RM/latest/data_types.html#_dv_text_class">DV_TEXT</sup></a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return set of column names.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ith_row</strong> (<br>
i: <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a>[1]</code><br>
): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return i-th row.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_row_with_name</strong> (<br>
a_key: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return <code>True</code> if there is a column with name = <code><em>a_key</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_column_with_name</strong> (<br>
a_key: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return <code>True</code> if there is a column with name = <code><em>a_key</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>named_row</strong> (<br>
a_key: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return row with name = <code><em>a_key</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_row_with_key</strong> (<br>
keys: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class">List<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_string_class">String</sup></a>&gt;[0..1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return <code>True</code> if there is a row with key <code><em>keys</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>row_with_key</strong> (<br>
keys: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class">List<sup></a>&lt;<a href="/releases/BASE/latest/foundation_types.html#_string_class">String</sup></a>&gt;[0..1]</code><br>
): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return rows with particular keys.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>element_at_cell_ij</strong> (<br>
i: <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a>[1]</code>,<br>
j: <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a>[1]</code><br>
): <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return cell at a particular location.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_hierarchy</strong> (): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generate a CEN EN13606-compatible hierarchy consisting of a single <code>CLUSTER</code> containing the <code>CLUSTERs</code> representing the columns of this table.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Valid_structure</em>: <code>rows.for_all (items.for_all (instance_of ("ELEMENT")))</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_item_tree_class"><a class="anchor" href="#_item_tree_class"></a>4.3.5. ITEM_TREE Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ITEM_TREE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Logical tree data structure. The tree may be empty. Used for representing data which are logically a tree such as audiology results, microbiology results, biochemistry results.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class" target="_blank" rel="noopener">List</a>&lt;<a href="#_item_class">ITEM</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The items comprising the <code>ITEM_TREE</code>. Can include 0 or more <code>CLUSTERs</code> and/or 0 or more individual <code>ELEMENTs</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_element_path</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if path  a_path' is a valid leaf path.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>element_at_path</strong> (<br>
a_path: <code><a href="/releases/BASE/latest/foundation_types.html#_string_class" target="_blank" rel="noopener">String</a>[1]</code><br>
): <code><a href="#_element_class">ELEMENT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Return the leaf element at the path  a_path'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>as_hierarchy</strong> (): <code><a href="#_cluster_class">CLUSTER</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generate a CEN EN13606-compatible hierarchy, which is the same as the tree&#8217;s physical representation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_instance_structures"><a class="anchor" href="#_instance_structures"></a>4.4. Instance Structures</h3>
<div class="sect3">
<h4 id="_item_single_instance_structure"><a class="anchor" href="#_item_single_instance_structure"></a>4.4.1. ITEM_SINGLE Instance Structure</h4>
<div class="paragraph">
<p>The figure below illustrates a <code>ITEM_SINGLE</code> instance, in both physical and logical forms.</p>
</div>
<div id="instance_item_single" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/instance_item_single.svg" alt="instance item single" width="50%">
</div>
<div class="title">Figure 2. Instance Structure of <code>ITEM_SINGLE</code></div>
</div>
</div>
<div class="sect3">
<h4 id="_item_list_instance_structure"><a class="anchor" href="#_item_list_instance_structure"></a>4.4.2. ITEM_LIST Instance Structure</h4>
<div class="paragraph">
<p>The following figure illustrates a typical <code>ITEM_LIST</code> structure, in this case for a BP protocol.</p>
</div>
<div id="instance_item_list" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/instance_item_list.svg" alt="instance item list" width="75%">
</div>
<div class="title">Figure 3. Instance Structure of <code>ITEM_LIST</code></div>
</div>
</div>
<div class="sect3">
<h4 id="_item_table_instance_structure"><a class="anchor" href="#_item_table_instance_structure"></a>4.4.3. ITEM_TABLE Instance Structure</h4>
<div class="paragraph">
<p>The next figure illustrates a table of visual acuity test results.</p>
</div>
<div id="instance_item_table" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/instance_item_table.svg" alt="instance item table">
</div>
<div class="title">Figure 4. Instance Structure of <code>ITEM_TABLE</code></div>
</div>
</div>
<div class="sect3">
<h4 id="_item_tree_instance_structure"><a class="anchor" href="#_item_tree_instance_structure"></a>4.4.4. ITEM_TREE Instance Structure</h4>
<div class="paragraph">
<p>The following figure illustrates the logical and concrete forms of an example <code>ITEM_TREE</code> instance, representing a biochemistry result.</p>
</div>
<div id="instance_item_tree" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/instance_item_tree.svg" alt="instance item tree">
</div>
<div class="title">Figure 5. Instance Structure of <code>ITEM_TREE</code></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_representation_package"><a class="anchor" href="#_representation_package"></a>5. Representation Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>5.1. Overview</h3>
<div class="paragraph">
<p>This package contains classes for a simple hierarchical representation of any data structure, as shown on the lower right side of <a href="#data_structures_package">Figure 1</a>. These classes are compatible with the <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606-1</a> classes of the same names, and instances can be losslessly generated to and from ISO 13606 instance structures.</p>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_3"><a class="anchor" href="#_class_descriptions_3"></a>5.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_item_class"><a class="anchor" href="#_item_class"></a>5.2.1. ITEM Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>ITEM (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The abstract parent of <code>CLUSTER</code> and <code>ELEMENT</code> representation classes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="/releases/RM/latest/common.html#_locatable_class" target="_blank" rel="noopener">LOCATABLE</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_cluster_class"><a class="anchor" href="#_cluster_class"></a>5.2.2. CLUSTER Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>CLUSTER</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The grouping variant of <code>ITEM</code>, which may contain further instances of <code>ITEM</code>, in an ordered list.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_class">ITEM</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class" target="_blank" rel="noopener">List</a>&lt;<a href="#_item_class">ITEM</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ordered list of items - <code>CLUSTER</code> or <code>ELEMENT</code> objects - under this <code>CLUSTER</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_element_class"><a class="anchor" href="#_element_class"></a>5.2.3. ELEMENT Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ELEMENT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The leaf variant of <code>ITEM</code>, to which a <code>DATA_VALUE</code> instance is attached.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_item_class">ITEM</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null_flavour</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_coded_text_class" target="_blank" rel="noopener">DV_CODED_TEXT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Flavour of null value, e.g. <code>253&#124;unknown&#124;</code>, <code>271&#124;no information&#124;</code>, <code>272&#124;masked&#124;</code>, and <code>273&#124;not applicable&#124;</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code><a href="/releases/RM/latest/data_types.html#_data_value_class" target="_blank" rel="noopener">DATA_VALUE</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Property representing leaf value object of <code>ELEMENT</code>. In real data, any concrete subtype of <code>DATA_VALUE</code> can be used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null_reason</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_text_class" target="_blank" rel="noopener">DV_TEXT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional specific reason for null value; if set, <code><em>null_flavour</em></code> must be set. Null reason may apply only to a minority of clinical data, commonly needed in reporting contexts.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_null</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if value logically not known, e.g. if indeterminate, not asked etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_is_null_valid</em>: <code>is_null() = (value = Void)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_flavour_indicated</em>: <code>is_null() xor null_flavour = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_flavour_valid</em>: <code>is_null implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_null_flavour, null_flavour.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Inv_null_reason_valid</em>: <code>null_reason /= Void implies is_null()</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_history_package"><a class="anchor" href="#_history_package"></a>6. History Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>6.1. Overview</h3>
<div class="paragraph">
<p>The <code>history</code> package defines classes which formalise the concept of past, linear time, via which historical data of any structural complexity can be recorded. It supports both instantaneous and interval event samples within periodic and aperiodic series.</p>
</div>
<div class="paragraph">
<p>Regardless of whether the actual data consist of a single sample or many, they are represented in the same way: as a history of events, i.e. as a time series, allowing all software to access data in a uniform way, whether it be a single measurement of weight, a long series of three- or four-dimensional images, or a series of encapsulated multimedia items. The type of data contained in a History structure may be any openEHR data, including text, coded, quantitative, time, or multimedia. In the case of quantitative and date/time data (<code>rm.data_types.quantity</code> package in <a href="https://specifications.openehr.org/releases/RM/latest/data_types.html#_quantity_package" target="_blank" rel="noopener">openEHR Data Types</a>), the data are formally quantitative, but for the vast majority of cases of other types of data (text, coded etc), there is an obvious quantitative interpretation associated with the values. An example is samples whose data values are coded terms such as 'low', 'normal', 'high', 'critical high', representing blood pressure measurements over time.</p>
</div>
<div class="paragraph">
<p>Instantaneous events are representing using the type <code>POINT_EVENT</code>, for which the value (<code><em>data</em></code> attribute) always represents an actual instantaneous value of a datum at a point in time. However, time series data may also be represented using the <code>INTERVAL_EVENT</code> type, enabling values other than 'actual' to be recorded for intervals of time. Events recorded in this form are accordingly tagged with a mathematical function, such as 'actual', 'mean', 'change' and so on, as defined by the openEHR <a href="https://github.com/openEHR/terminology/blob/master/openEHR_RM/en/openehr_terminology.xml" target="_blank" rel="noopener"><code>event math function</code> vocabulary</a>.</p>
</div>
<div class="paragraph">
<p>The model also supports the inclusion of 'summary' data, i.e. a textual or image item which summarises in some way the entire history.</p>
</div>
<div class="paragraph">
<p>In formal terms, the model defines the constrained generic (otherwise known as 'template' or 'parameterised') types <code>HISTORY&lt;T&#8594;ITEM_STRUCTURE&gt;</code>, <code>EVENT&lt;T&#8594;ITEM_STRUCTURE&gt;</code>, <code>POINT_EVENT&lt;T&gt;</code>, and <code>INTERVAL_EVENT&lt;T&gt;</code> where the <code><em>type</em></code> parameter is constrained to the <code>ITEM_STRUCTURE</code> type, and defines the type of the data recorded in an instance of <code>HISTORY</code>. The effect is that repeated instances of spatially complex data can recur in time, corresponding to the way data are actually measured. An aperiodic series of <code>POINT_EVENT</code> instances would typically be used to represent manual measurements repeated in time. Periodic histories of <code>INTERVAL_EVENT</code> instances would typically be used to represent vital signs monitor output (which is usually delivered in averaged form potentially with additional minimum and maximum values).</p>
</div>
<div class="paragraph">
<p>As with all other parts of the openEHR reference model, the <code>history</code> package is designed so that archetypes define the domain semantics of <code>HISTORY</code> instances. The <code>history</code> package is shown on the left of <a href="#data_structures_package">Figure 1</a>.</p>
</div>
<div class="sect3">
<h4 id="_basic_semantics"><a class="anchor" href="#_basic_semantics"></a>6.1.1. Basic Semantics</h4>
<div class="paragraph">
<p>The intention of the History model is to represent time-based data for which every sample in the series is a measurement of the same phenomenon (e.g. patient heart rate) and is obtained using the same measurement method (e.g. pulse oximeter). Samples taken in this way can be reliably treated as comparable, i.e. representing changes in the same phenomenon over time, and accordingly can be safely used for time-based computation, such as graphing, statistical analysis and so on. A History can contain any mixture of <code>POINT_EVENT</code> and <code>INTERVAL_EVENT</code> instances. Clearly it is impossible for the model to guarantee completely correct usage on its own, however there two major safeguards.</p>
</div>
<div class="paragraph">
<p>Firstly, the use of generic types forces the type of the data in each Event to be the same. A History of type <code>HISTORY&lt;ITEM_LIST&gt;</code> therefore constrains the type of the data at each Event (<code>EVENT.<em>item</em></code>) to be of type <code>ITEM_LIST</code> and nothing else.</p>
</div>
<div class="paragraph">
<p>Secondly, the use of archetyping (typically within openEHR Observation archetypes) ensures the actual structure of the <code>ITEM_STRUCTURE</code> subtype is defined in the same way for every sample - e.g. a two-item list representing systolic and diastolic blood pressure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_timing"><a class="anchor" href="#_timing"></a>6.1.2. Timing</h4>
<div class="paragraph">
<p>An instance of the <code>HISTORY</code> class contains the <code><em>origin</em>: DV_DATE_TIME</code> attribute, indicating what is considered the '0-point' of the time series, and a series of instances of the <code>EVENT</code> subtype, each containing a <code><em>time</em>: DV_DATE_TIME</code> attribute representing the absolute time of the event. The relative offset
of any Event is computed as the difference between the <code>EVENT.<em>time</em></code> and <code>HISTORY.<em>origin</em></code> by the <code>EVENT.<em>offset</em></code> function. For Interval events (i.e. instances of <code>INTERVAL_EVENT</code>), the <code><em>time</em></code> attribute always refers to the end time of the event, since this is the time at which the data (e.g. average) are true.</p>
</div>
<div class="paragraph">
<p>The origin time of a History does not have to be the time of the first sample - it might be the time of an event such as child-birth with respect to which the samples are recorded, e.g. Apgar scores (Apgar is a 0-10 score indicating the health of a newborn based on breathing, heartrate, colour, muscletone and reflexes) at 1 and 3 minute offsets.</p>
</div>
<div class="paragraph">
<p>Periodicity and aperiodicity are expressed via the <code><em>is_periodic</em></code> and <code><em>period</em></code> attributes. For a periodic time-series, <code><em>period</em></code> is set to the period duration value and <code><em>is_periodic</em></code> returns <code>True</code>. The total duration of the History is given by the <code>HISTORY.<em>duration</em></code> function. The following figure illustrates a number of variations in History periodicity and Event type.</p>
</div>
<div id="history_period" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_period.svg" alt="history period" width="70%">
</div>
<div class="title">Figure 6. Variation in History periodicity and Event width</div>
</div>
</div>
<div class="sect3">
<h4 id="_point_events"><a class="anchor" href="#_point_events"></a>6.1.3. Point Events</h4>
<div class="paragraph">
<p>The simplest kind of Event in a History is a 'point' event, expressed by instances of the class <code>POINT_EVENT</code>, representing an instantaneous value. A <code>HISTORY</code> instance may be composed solely of Point events, as would be the case with a number of blood pressure values measured over time as the patient changes position. An Apgar result is a typical example of aperiodic point data, typically consisting of 2 or 3 events, each containing 5 values and a 6th value repersenting the Apgar score for that time point. Point data may also be available from monitoring devices. For fine-granularity (e.g. 1 second) data, the number of samples may be too voluminous for the health record, and more efficient recording in the form of summary Interval events (see below) might be desired. The diagram below  illustrates the structure of a <code>HISTORY</code> containing <code>POINT_EVENTs</code>.</p>
</div>
<div id="history_bp" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_bp.svg" alt="history bp">
</div>
<div class="title">Figure 7. Structure of <code>HISTORY&lt;T&gt;</code> of <code>POINT_EVENTs</code></div>
</div>
</div>
<div class="sect3">
<h4 id="_interval_events"><a class="anchor" href="#_interval_events"></a>6.1.4. Interval Events</h4>
<div class="paragraph">
<p>Instances of the <code>INTERVAL_EVENT</code> class are used to express values corresponding to an interval in time. The <code>INTERVAL_EVENT.<em>width</em></code> attribute defines the duration of the interval; and the inherited <code><em>time</em></code> value corresponds to the <em>trailing edge</em> of the event.</p>
</div>
<div class="paragraph">
<p>The semantics of the Interval event type in this model are that the values effectively summarise actual instantaneous values of a datum that have occurred during the period of the event interval. The mathematical meaning of the data value of any particular interval event is given by the <code><em>math_function</em></code> attribute. This is coded by the <a href="https://github.com/openEHR/terminology/blob/master/openEHR_RM/en/openehr_terminology.xml">openEHR vocabulary <code>event math function</code></a>, and takes values such as <code>145|minimum|</code>, <code>144|maximum|</code>, <code>146|mean|</code>, <code>147|change|</code> and so on. The math function value on a particular event applies to all the data points attached to the event <code><em>data</em></code> attribute.</p>
</div>
<div class="paragraph">
<p>The particular math functions used in each Interval event in a History may vary throughout the History; for example, one 4-hour Interval event might contain data representing average values, while a following event might contain data representing maximum values for the same or a later time point. Such data can be conveniently used for generating sophisticated graphs of the underlying datum over time. The next figure illustrates a History containing 2 pairs of 4-hour blood pressure Interval events, with each pair containing maximum and mean blood pressure value structures for <code>+4h</code> and <code>+8h</code> timepoints (each of which consist of a systolic and diastolic value).</p>
</div>
<div id="history_bp_math" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_bp_math.svg" alt="history bp math">
</div>
<div class="title">Figure 8. Structure of <code>HISTORY&lt;T&gt;</code> of <code>INTERVAL_EVENTs</code></div>
</div>
<div class="paragraph">
<p>Interval events can overlap other interval or point events within the same History. A situation where this may occur is with measurement of different periods of vital signs, such as 4-hourly blood pressure events, overlapped by a 24-hour event which contains the values over a period of 6 x 4 hour periods. In general a long Interval event can overlap any combination of Point or Interval events, as shown in the following figure.</p>
</div>
<div id="history_event_overlapping" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_event_overlapping.png" alt="history event overlapping" width="60%">
</div>
<div class="title">Figure 9. Overlapping Events</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_data"><a class="anchor" href="#_change_data"></a>6.1.5. Change Data</h4>
<div class="paragraph">
<p>One sub-category of interval data that deserves mention is change data. There are three event math function terms used for indicating changes in data values as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>147|change|</code>: this means that the value recorded is the difference between the value now and the value some time previously. It can be positive or negative;</p>
</li>
<li>
<p><code>522|increase|</code>: the value recorded for the change is positive. The name (i.e. <code>ELEMENT.<em>name</em></code>) chosen for the item in an archetype carries the semantic of positivity e.g. 'increase of &#8230;&#8203;.; rise of&#8230;&#8203;.; &#8230;&#8203;.gain' etc;</p>
</li>
<li>
<p><code>521|decrease|</code>: the value recorded for the change is positive. But the name chosen for the item carries the semantic of negativity e.g. 'decrease of &#8230;&#8203;.; fall of &#8230;&#8203;.; &#8230;&#8203;. loss'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following examples show how the data and these math functions are coordinated.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>weight last week was 76 kg. Wait this week = 74 kg. Possible instances:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item Name<br>
 in Archetype</th>
<th class="tableblock halign-left valign-top">Value<br>
stored</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Math Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight change'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+ 2kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DV_QUANTITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::147|change|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight loss'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)2kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DV_QUANTITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::521|decrease|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight loss'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::521|decrease|</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>weight last week was 80 kg. Weight this week = 83 kg. Possible instances:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item Name<br>
 in Archetype</th>
<th class="tableblock halign-left valign-top">Value<br>
stored</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Math Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight change'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)3kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DV_QUANTITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::147|change|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight increase'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(+)3kg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DV_QUANTITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::522|increase|</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'weight gain'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openehr::522|increase|</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The use of these math function indicators allows the correct representation of change values, no matter
how they were captured, in a computable form.</p>
</div>
</div>
<div class="sect3">
<h4 id="_summary_event_data"><a class="anchor" href="#_summary_event_data"></a>6.1.6. Summary Event Data</h4>
<div class="paragraph">
<p>A relatively common situation particularly in laboratory testing is the existence of a "summarising"
event which accompanies more detailed historical data. Examples where this arises include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a series of exams with a single radiologist report for all of them (the report might include one or more key images);</p>
</li>
<li>
<p>graphical summary of a dynamic challenge test such as Glucose tolerance test;</p>
</li>
<li>
<p>some comment about the pattern of values on a set of observed values in series.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Such data are accommodated within the model via the optional <code>HISTORY.<em>summary</em></code> attribute, which is
itself a structure, archetypable separately from the structure of the main data. In the first example
above, the summary data might consist of an <code>ITEM_SINGLE</code> object containing a textual report; in the
second, an <code>ITEM_SINGLE</code> object containing a image within a <code>DV_MULTIMEDIA</code> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_efficient_representation_of_fine_grained_device_data"><a class="anchor" href="#_efficient_representation_of_fine_grained_device_data"></a>6.1.7. Efficient Representation of Fine-grained Device Data</h4>
<div class="paragraph">
<p>A useful practical consequence of the Interval Event is that it allows long periods of stable data to be represented with a single Interval event, while interesting perturbations will be represented with a number of fine-grained Interval or Point Events. In the example in the next figure, Event instances are used represent 4 hours of data consisting to 14,400 x 1 second samples from a blood pressure monitor. The optional <code>INTERVAL_EVENT.<em>sample_count</em></code> attribute can be used to record the number of original samples summarised in the event. In the illustration, the <code><em>math_function</em></code> is shown as <code>146|mean|</code>; clearly in the first long period, the monitored datum was not absolutely flat. The implication is that the recording software was configured to regard variations in a small band (e.g. 5mm Hg) as insignificant, and only to create new Event objects when the underlying values moved outside the band. Another approach woould have been to create two Interval Event objects for each long period, one giving minimum value, the other maxium value, still based on the principle of generating one such pair for periods when the underlying data remained within specified limits. Regardless of the details, this general approach provides a way to include hours of fine-grained data from devices like vital signs monitors in very little space; the data simply need to be transfomed into equivalent openEHR History form first.</p>
</div>
<div id="history_data_compression" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_data_compression.svg" alt="history data compression">
</div>
<div class="title">Figure 10. Data compression effect of History with Interval Events</div>
</div>
</div>
<div class="sect3">
<h4 id="_state"><a class="anchor" href="#_state"></a>6.1.8. State</h4>
<div class="paragraph">
<p>A feature particular to a model of recording historical data for scientific and clinical use is the ability to record 'state'. In openEHR, 'state' is understood as time-based information about the whole entity from which the values recorded in the <code><em>data</em></code> attribute are recorded. The <code><em>state</em></code> attribute thus records data necessary for the correct interpretation of the primary values recorded in the <code><em>data</em></code> attribute. An example is where the primary datum is heart rate (values representing rate of the heart beating). Useful state data may include anything else from the owning entity (a human being) that affects the heart rate, such as the level of exertion of the subject (resting, after 3 minutes hard cycling etc). In clinical situations, the state data are often crucial to the safe use of the primary data, since the latter might be normal or abnormal depending on the patient state.</p>
</div>
<div class="paragraph">
<p>In openEHR there are two ways of recording state. One is via the use of a separate <code>HISTORY</code> structure within the <code>OBSERVATION</code> class (see <code>ehr.composition.content.entry</code> package). The other is via the use of the state attribute of type <code>ITEM_STRUCTURE</code> defined in the class <code>EVENT</code> itself. Experience with openEHR archetypes and systems has shown that the latter method corresponds to the most common clinical need, which is to be able to record the state at the time of the event (the other method allows for the recording of independent state events). A simple example is the recording of 3 glucose levels during a glucose tolerance test. The state information for each event is, respectively (in a typical test):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0-minute sample: 'post 8-hour fast;</p>
</li>
<li>
<p>1-hour sample: 'post 75g oral glucose challenge';</p>
</li>
<li>
<p>2-hour sample: 'post 75g oral glucose challenge'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The History structure for this example is illustrated in the following figure.</p>
</div>
<div id="history_ogtt" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_ogtt.svg" alt="history ogtt">
</div>
<div class="title">Figure 11. State in <code>HISTORY</code></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_4"><a class="anchor" href="#_class_descriptions_4"></a>6.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_history_class"><a class="anchor" href="#_history_class"></a>6.2.1. HISTORY Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>HISTORY&lt;T&gt;</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Root object of a linear history, i.e. time series structure. This is a generic class whose type parameter must be a descendant of <code>ITEM_STRUCTURE</code>, ensuring that each Event in the <code><em>events</em></code> of a given instance is of the same structural type, i.e. <code>ITEM_TREE</code>, <code>ITEM_LIST</code> etc.</p>
</div>
<div class="paragraph">
<p>For a periodic series of events, period will be set, and the time of each Event in the History must correspond; i.e. the <code>EVENT.<em>offset</em></code> must be a multiple of period for each Event. Missing events in a period History are however allowed.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_data_structure_class">DATA_STRUCTURE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>origin</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_date_time_class" target="_blank" rel="noopener">DV_DATE_TIME</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time origin of this event history. The first event is not necessarily at the origin point.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>period</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_duration_class" target="_blank" rel="noopener">DV_DURATION</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Period between samples in this segment if periodic.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>duration</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_duration_class" target="_blank" rel="noopener">DV_DURATION</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Duration of the entire History; either corresponds to the duration of all the events, and/or the duration represented by the summary, if it exists.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>summary</strong>: <code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional summary data that aggregates, organizes, reduces and transforms the event series. This may be a text or image that presents a graphical presentation, or some data that assists with the interpretation of the data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>events</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_list_class" target="_blank" rel="noopener">List</a>&lt;<a href="#_event_class">EVENT</a>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The events in the series. This attribute is of a generic type whose parameter must be a descendant of <code>ITEM_SUTRUCTURE</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_periodic</strong> (): <code><a href="/releases/BASE/latest/foundation_types.html#_boolean_class" target="_blank" rel="noopener">Boolean</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Indicates whether history is periodic.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Events_valid</em>: <code>(events /= Void and then not events.is_empty) or summary /= Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Periodic_validity</em>: <code>is_periodic xor period = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Period_consistency</em>: <code>is_periodic implies events.for_all (e: EVENT &#124; e.offset. to_seconds.mod(period.to_seconds) = 0)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_event_class"><a class="anchor" href="#_event_class"></a>6.2.2. EVENT Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>EVENT&lt;T&gt; (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines the abstract notion of a single event in a series. This class is generic, allowing types to be generated which are locked to particular spatial types, such as <code>EVENT&lt;ITEM_LIST&gt;</code>. Subtypes express point or intveral data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="/releases/RM/latest/common.html#_locatable_class" target="_blank" rel="noopener">LOCATABLE</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_date_time_class" target="_blank" rel="noopener">DV_DATE_TIME</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time of this event. If the width is non-zero, it is the time point of the trailing edge of the event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>state</strong>: <code><a href="#_item_structure_class">ITEM_STRUCTURE</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional state data for this event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong>: <code>T</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The data of this event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>offset</strong> (): <code><a href="/releases/RM/latest/data_types.html#_dv_duration_class" target="_blank" rel="noopener">DV_DURATION</a></code><br>
<br>
<em>Post_condition</em>: <code>Result = time.diff(parent.origin)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Offset of this event from origin, computed as time.diff(parent.origin).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Offset_validity1</em>: <code>offset /= Void and then offset = time.diff (parent.origin)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_point_event_class"><a class="anchor" href="#_point_event_class"></a>6.2.3. POINT_EVENT Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>POINT_EVENT&lt;T&gt;</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines a single point event in a series.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_event_class">EVENT</a></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_interval_event_class"><a class="anchor" href="#_interval_event_class"></a>6.2.4. INTERVAL_EVENT Class</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>INTERVAL_EVENT&lt;T&gt;</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Defines a single interval event in a series.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code><a href="#_event_class">EVENT</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>width</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_duration_class" target="_blank" rel="noopener">DV_DURATION</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Duration of the time interval during which the values recorded under <code>data</code> are true and, if set, the values recorded under <code>state</code> are true. Void if an instantaneous event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sample_count</strong>: <code><a href="/releases/BASE/latest/foundation_types.html#_integer_class" target="_blank" rel="noopener">Integer</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional count of original samples to which this event corresponds.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>math_function</strong>: <code><a href="/releases/RM/latest/data_types.html#_dv_coded_text_class" target="_blank" rel="noopener">DV_CODED_TEXT</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mathematical function of the data of this event, e.g.  maximum, mean etc. Coded using <a href="https://github.com/openEHR/terminology/blob/master/openEHR_RM/en/openehr_terminology.xml">openEHR vocabulary <code>event math function</code></a>. Default value <code>640&#124;actual&#124;</code>, meaning 'actual value'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>interval_start_time</strong> (): <code><a href="/releases/RM/latest/data_types.html#_dv_date_time_class" target="_blank" rel="noopener">DV_DATE_TIME</a></code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Start time of the interval of this event.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Math_function_validity</em>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_event_math_function, math_function.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Interval_start_time_valid</em>: <code>interval_start_time = time - width</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_history_instance_structures"><a class="anchor" href="#_history_instance_structures"></a>6.3. History Instance Structures</h3>
<div class="sect3">
<h4 id="_single_sample"><a class="anchor" href="#_single_sample"></a>6.3.1. Single Sample</h4>
<div class="paragraph">
<p>The following diagram illustrates a single weight measurement. The Event objects contain the timing information,
which in this case is simply the time of measurement (the origin).</p>
</div>
<div id="history_single_sample" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_single_sample.svg" alt="history single sample" width="50%">
</div>
<div class="title">Figure 12. Single sample Instance Structure</div>
</div>
</div>
<div class="sect3">
<h4 id="_5_minute_blood_pressure_averages"><a class="anchor" href="#_5_minute_blood_pressure_averages"></a>6.3.2. 5-minute Blood Pressure Averages</h4>
<div class="paragraph">
<p>The next figure illustrates two Interval events representing 5 minute blood pressure averages, the first at
5 minutes' offset from an initial event and lasting 5 minutes, the second 5 minutes later.</p>
</div>
<div id="history_bp_series_instances" class="imageblock text-center text-center">
<div class="content">
<img src="data_structures/diagrams/history_bp_series_instances.svg" alt="history bp series instances" width="60%">
</div>
<div class="title">Figure 13. Blood Pressure Series History Instance Structure</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-02-15 13:27:48 UTC
</div>
</div>
</body>
</html>